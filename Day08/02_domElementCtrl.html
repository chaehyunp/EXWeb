<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>JS DOM Control</title>
    </head>
    <body>
        
        <!-- 요소의 속성 변경 -->

        <!-- 1. img 요소의 src 속성 변경 -->
        <img src="./image/zzang_withcowblanket1.jpg" alt="" width="300" id="aa">
        <button onclick="changeImg()">change image</button>

        <script>
            function changeImg(){
                document.getElementById("aa").src="./image/zzang_withcowblanket2.jpg";
            }
        </script>

        <hr>

        <!-- 2. 요소의 스타일 변경 : DOM tree 구조를 이용한 요소접근법 -->
        <p id="p1">this is paragraph</p>
        <button onclick="clickBtn(this)">스타일 변경</button>

        <script>
            function clickBtn(e){ //파라미터 e : 클릭한 요소
                //클릭된 버튼의 앞 형제요소 찾기
                var p = e.previousElementSibling;
                p.style.color = "red";
                p.style.fontWeight = "bold";
                p.style.fontStyle = "italic";
            }
        </script>

        <!-- class 속성을 이용하여 다중 스타일 한 번에 적용 -->
        <style>
            .kk{
                color: blue;
                font-weight: bold;
                font-style: italic;
            }
        </style>

        <button onclick="clickBtn2()">클래스 속성으로 다중스타일 한 번에 변경</button>
        <script>
            function clickBtn2(){
                document.getElementById("p1").style=""; /* 기존 인라인스타일 제거 */
                document.getElementById("p1").className = "kk";
            }
        </script>

        <hr>

        <!-- DOM 노드의 동적인 추가와 삭제 -->
        <button onclick="addText()">텍스트 추가</button>
        <button onclick="addElement()">요소 추가</button>
        <button onclick="removeNode()">자식 노드 제거</button>

        <p id="pp"></p>

        <script>

            function addText(){
                // var node = document.createTextNode('This is test!');
                // var node = document.createTextNode("<a href=''>This is test</a>"); //이미 텍스트 노드를 붙인다고 했기때문에 태그문으로 인식되지 않음
                
                // var pp = document.getElementById('pp');
                // pp.append(node);

                //위 작업(text node 추가)을 간략하게 하는 속성
                document.getElementById('pp').textContent="<a href=''>This is test</a>"; 
                //append라고 하지 않았기때문에 누를때마다 추가 안됨(하고싶다면 textContent+=)

            }

            function addElement(){
                // var node = document.createElement('a');

                // //속성 노드 추가
                // var attr = document.createAttribute('href');
                // attr.value = "https://www.google.com";
                // node.setAttributeNode(attr); //a 요소노드에 속성 붙이기

                // //텍스트 노드 생성 및 추가
                // var text = document.createTextNode("GOOGLE");
                // node.appendChild(text);

                // document.getElementById('pp').appendChild(node);

                //요소추가를 한 번에 축약형으로
                document.getElementById('pp').innerHTML="<a href='https://www.google.co'>Google</a>"              
            }

            function removeNode(){
                var pp = document.getElementById('pp');

                pp.removeChild(pp.firstChild);

            }

        </script>

        <hr>

        <!-- JS에서 요소를 찾을때 CSS 선택자 문법을 이용하여 요소접근방식 -->
        <h3 id="ee">Hello world</h3>
        <button onclick="aaa()">button</button>
        <script>
            function aaa(){
                var e = document.querySelector('#ee'); //css문법의 id 선택자
                e.innerHTML = "Nice to meet you";
            }
        </script>

        <hr>


        <h4>aaa</h4>
        <h4>bbb</h4>
        <h4>ccc</h4>
        <button onclick="bbb()">button</button>
        <script>
            function bbb(){
                //css 선택자 중에서 여러 요소가 찾아지는 선택자들
                var es = document.querySelectorAll('h4'); //타입 선택자로 여러요소 참조-리턴은 배열
                es[0].innerHTML = "GOOD!";
            }

            var es = document.querySelectorAll('h4');
            es[1].onclick = function(){
                alert("bbb");
            }
        </script>


    </body>
</html>